{
  "hash": "d7637a7f5189b33cdf18548b4db1e657",
  "result": {
    "markdown": "---\ntitle: fitzRoy v1.0.0\nauthor: James Day\ndate: '2021-03-17'\nslug: []\ncategories:\n  - fitzroy\ntags: []\nsubtitle: ''\ndraft: true\n---\n\n\nI'm excited to announce the official v1.0.0 release of fitzRoy has landed on CRAN!\n\n\n\n\n## Motivation\nIt's been over 3 years since the first commit of the package and it's great to finally feel like it's stable enough for a v1 release. The initial idea was to provide a set of functions that made scraping data (at the time, the only way to get access to historical AFL results possible) easy so that modellers and analysts could spend more time doing modelling and analysing. \n\nIn the subsequent years, I've added a bunch of patches, learned a lot about writing better code, optimised a bunch of functions and even restructured the package a few times. While this has been great, the code and package itself was only just held together by a lot of spaghetti code.\n\nThis came to a head last year where, like in most walks of life, COVID threw a spanner in the works. The various logic that the package used was thrown out the window by things like rolling fixtures, weird round structures and various other quircks of the season that was 2020. I spent much of last year just fixing bugs and trying to keep the package functional and it was quite apparent it needed fixing.\n\nAn additional motivation has been AFLW. When I started the package, it didn't sit great with me that we weren't able to provide basic AFLW data but, in the early seasons of AFLW, that data generally didn't exist. While that data is still hard to find, it is now more readily available and so I really wanted to make sure it got treated the same as the AFLM data. \n\nAs such - over the last few months I've been completely overhauling the package and restructured everything. I think it's now much simpler, easy to use and includes both a wider range of data and importantly, a solid amount of AFLW data! \n\nThe main changes are below. For further details have aread through the [pkgdown site](https://jimmyday12.github.io/fitzRoy/).\n\n## Highlights\n\n### New family of `fetch_*` functions\nThis new family of functions provides a simple and consistent API to the common types of AFL data. It also allows you to use the same interface to access data from any data source, meaning that it should require much less effort to switch between data sources or start a new analysis. \n\nThe basic structure of the `fetch_*` functions is that you specify the `season`, `round_number`, `source` and `comp`. Some examples are below but read through the extensive [Main Fetch Functions vignette](https://jimmyday12.github.io/fitzRoy/articles/main-fetch-functions.html) for a detailed run through.\n\nAn example with the fixture dataset. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nfetch_fixture(season = 2021, source = \"AFL\", comp = \"AFLM\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 207 × 56\n      id provid…¹ utcSt…² status compS…³ compS…⁴ compS…⁵ compS…⁶ compS…⁷ round…⁸\n   <int> <chr>    <chr>   <chr>    <int> <chr>   <chr>   <chr>     <int>   <int>\n 1  2991 CD_M202… 2021-0… CONCL…      34 CD_S20… 2021 T… Premie…      27     461\n 2  2986 CD_M202… 2021-0… CONCL…      34 CD_S20… 2021 T… Premie…      27     461\n 3  2992 CD_M202… 2021-0… CONCL…      34 CD_S20… 2021 T… Premie…      27     461\n 4  2993 CD_M202… 2021-0… CONCL…      34 CD_S20… 2021 T… Premie…      27     461\n 5  2994 CD_M202… 2021-0… CONCL…      34 CD_S20… 2021 T… Premie…      27     461\n 6  2987 CD_M202… 2021-0… CONCL…      34 CD_S20… 2021 T… Premie…      27     461\n 7  2990 CD_M202… 2021-0… CONCL…      34 CD_S20… 2021 T… Premie…      27     461\n 8  2989 CD_M202… 2021-0… CONCL…      34 CD_S20… 2021 T… Premie…      27     461\n 9  2988 CD_M202… 2021-0… CONCL…      34 CD_S20… 2021 T… Premie…      27     461\n10  2999 CD_M202… 2021-0… CONCL…      34 CD_S20… 2021 T… Premie…      27     462\n# … with 197 more rows, 46 more variables: round.providerId <chr>,\n#   round.abbreviation <chr>, round.name <chr>, round.roundNumber <int>,\n#   round.byes <list>, home.team.id <int>, home.team.providerId <chr>,\n#   home.team.name <chr>, home.team.abbreviation <chr>,\n#   home.team.nickname <chr>, home.team.teamType <chr>,\n#   home.team.club.id <int>, home.team.club.providerId <chr>,\n#   home.team.club.name <chr>, home.team.club.abbreviation <chr>, …\n```\n:::\n:::\n\n\nThe other functions are below. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlineup <- fetch_lineup(season = 2021, round_number = 7, comp = \"AFLW\")\nresults <- fetch_results(season = 2020, source = \"afltables\", comp = \"AFLW\")\nladder <- fetch_ladder(season = 2020, source = \"squiggle\")\nstats <- fetch_player_stats(season = 2020, source = \"fryzigg\")\n```\n:::\n\n\n### New data source\nThe official AFL website has been added as a new data source for fitzRoy. This provides access to official statistics and generally includes a lot more data than other sources. It is the default `source` in any of the `fetch_*` family of functions. \n\nSome good examples are shown in the new [Getting started vignette](https://jimmyday12.github.io/fitzRoy/articles/fitzRoy.html)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# The following will return the same. \nfetch_results(season = 2021, round_number = 1, source = \"AFL\", comp = \"AFLM\")\nfetch_results_afl(season = 2021, round_number = 1, comp = \"AFLM\")\n```\n:::\n\n\n### AFLW data\nAll data from the source \"AFL\" will also contain AFLW data for the first time. This includes fixtures, results, ladders, lineups and player stats. It is as simple as changing the `comp` argument to \"AFLW\" when using any of the `fetch_*` family of functions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfetch_player_stats(season = 2021, round_number = 1, source = \"AFL\", comp = \"AFLW\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 294 × 70\n   providerId     utcSt…¹ status compS…² round…³ round…⁴ venue…⁵ home.…⁶ home.…⁷\n   <chr>          <chr>   <chr>  <chr>   <chr>     <int> <chr>   <chr>   <chr>  \n 1 CD_M202126401… 2021-0… CONCL… AFLW S… Round 1       1 Ikon P… Carlton Carlton\n 2 CD_M202126401… 2021-0… CONCL… AFLW S… Round 1       1 Ikon P… Carlton Carlton\n 3 CD_M202126401… 2021-0… CONCL… AFLW S… Round 1       1 Ikon P… Carlton Carlton\n 4 CD_M202126401… 2021-0… CONCL… AFLW S… Round 1       1 Ikon P… Carlton Carlton\n 5 CD_M202126401… 2021-0… CONCL… AFLW S… Round 1       1 Ikon P… Carlton Carlton\n 6 CD_M202126401… 2021-0… CONCL… AFLW S… Round 1       1 Ikon P… Carlton Carlton\n 7 CD_M202126401… 2021-0… CONCL… AFLW S… Round 1       1 Ikon P… Carlton Carlton\n 8 CD_M202126401… 2021-0… CONCL… AFLW S… Round 1       1 Ikon P… Carlton Carlton\n 9 CD_M202126401… 2021-0… CONCL… AFLW S… Round 1       1 Ikon P… Carlton Carlton\n10 CD_M202126401… 2021-0… CONCL… AFLW S… Round 1       1 Ikon P… Carlton Carlton\n# … with 284 more rows, 61 more variables: away.team.name <chr>,\n#   away.team.club.name <chr>, player.jumperNumber <int>,\n#   player.photoURL <chr>, player.player.position <chr>,\n#   player.player.player.playerId <chr>, player.player.player.captain <lgl>,\n#   player.player.player.playerJumperNumber <int>,\n#   player.player.player.givenName <chr>, player.player.player.surname <chr>,\n#   teamId <chr>, gamesPlayed <lgl>, timeOnGroundPercentage <dbl>, …\n```\n:::\n:::\n\n\n### Deprecating functions\nMany functions have been deprecated in favour of the new `fetch_*` family of functions. These are soft deprecations in that they will still work, but internally just call the newly named `fetch_*` function. You will get a warning message. In the future, most of these functions will get removed. A full list can be seen on the [Changelog](https://jimmyday12.github.io/fitzRoy/news/index.html#deprecated-functions) but the most used ones will be\n\n* `get_fixture`\n* `get_match_results`\n* `update_footywire_stats`\n* `return_ladder`\n\n### Bug fixes\nThere are a few small bug fixes as well. Probably the bigger impacts will be over on the [data repository](https://github.com/jimmyday12/fitzRoy_data/) where we've re-scraped a bunch of historical data. This mostly affects AFL Tables and Footywire data. \n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}